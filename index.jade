mixin panel(id, title, description, color)
  div(class='panel', id=id)
    form(autocomplete='off')
      div(class='header ' + color)
        .left
          input(type='text', name='title', value=title, class=color, maxlength=32)
        .right
          img(src='calendar.png', alt='calendar').date.icon
          span.date.text.start
          span.date.seperator
            | &nbsp;&ndash;&nbsp;
          span.date.text.end
          a(href='#')
            img(src='/remove.png', alt='remove').remove.button       
          a(href='#')
            img(src='/show.png', alt='show').show.button
          a(href='#')
            img(src='/hide.png', alt='hide').hide.button
      .body
        textarea(name='description')
          =description
html
  head
    title Sprints
    include common
    script(type='text/javascript', src='/index.js')
    script(type='text/javascript')
    
      var items = {};
      items.sprint = !{JSON.stringify(sprints)};

      $(document).ready(function() {

        attachAttributesToItems(items);
        $('.panel').each(function() {

          var panel = $(this);
          panel.data('update').start(panel, panel.data('attributes').start);
          panel.data('update').length(panel, panel.data('attributes').length);
        });
      });
  body
    #error-panel
      .message
      .icons
        a(href='#')
          img(class='ok-button', src='/ok.png', alt='ok')
    div(id='panel-container')

      each sprint, i in sprints
      
        mixin panel('uuid-' + sprint._id, sprint.title, sprint.description, sprint.color)
    a(href='#')
      img(id='add-button', src='/add-circle.png', alt='add')  